<!DOCTYPE html>
<html>
    <head>
        <title>bim chat app</title>
        <meta charset="UTF-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>

        <script src="/socket.io/socket.io.js"></script>

        <link rel="stylesheet" href="styles/styles.css"></style>
        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

        <style>

        button {outline: #00FF00 dotted thick !important;}

        </style>
    </head>
    <body>

      <!-- <div class="promptContainer">
        <div class="prompt">?</div>
      </div> -->

      <!-- <div class="messagesContainer">
        <h1>messages</h1>
      </div> -->

      <!-- <form class="textForm" action="" method="get">
        <div class="textarea-container">
          <textarea class="newTA" autofocus name="inMess" placeholder="type something" id="" rows="1"></textarea>
        </div>
        <button type="button" class="sendButton" disabled></button>
      </form> -->

      <button class="buttonNo">NO</button>
      <button class="buttonYes">YES</button>
      <button class="fakeSocketMessage">fakeSocketMessage</button>



      <script>

        // inits
        // var messages = document.querySelector('.messagesContainer'),
        //     inputMessage = document.querySelector('.inputMessage'),
        //     sendButton = document.querySelector('.sendButton');

        // var promptContainer = document.querySelector('.promptContainer');
        // var prompt = document.querySelector('.prompt');
        // var textForm = document.querySelector('.textForm');

        var noButton = document.querySelector('.buttonNo');
        var yesButton = document.querySelector('.buttonYes');
        var fakeSocketMessage = document.querySelector('.fakeSocketMessage');




        // socket io
        var socket = io.connect(window.location.origin);
        // var socket = io.connect('/');

        socket.on('connect', function() {
            //  console.log('connected to server socket');

            // TODO initialize state
            // emit a get state for config
            console.log(socket.id); // custom color messages
         });

        socket.on('response', function (data) {
          console.log(data);
        });

        socket.on('prompt', function (data) {
          // console.log(data);
          // changePrompt(data);
        });

        socket.on('noYesCount', function (data) {
          console.log('no/yes count: ' + data);
        });

        socket.on('inputMode', function (data) {
          changeInputMode(data);
        });



        document.addEventListener('DOMContentLoaded', function() {


          noButton.addEventListener('click', function(e) {
            socket.emit('noYes', 'No');
          });

          yesButton.addEventListener('click', function(e) {
            socket.emit('noYes', 'Yes');
          });

          fakeSocketMessage.addEventListener('click', function(e) {
            socket.emit('message', 'hello world');
          });





          changeInputMode = function (data) {

          }


        });


      </script>
    </body>
</html>
